(()=>{"use strict";const e=document.getElementById("content"),t=document.querySelector(".home-button"),n=document.querySelector(".menu-button"),a=document.querySelector(".contact-button");let d=function(){let e=document.createElement("div");e.classList.add("main-content");let t=document.createElement("h1");t.classList.add("center-h"),t.textContent="Welcome to the Rathaus Cafe",e.appendChild(t);let n=document.createElement("div");n.classList.add("menu-card","shadow","bottom-spacer"),e.appendChild(n);let a=document.createElement("div");a.classList.add("intro-container"),n.appendChild(a);let d=document.createElement("img");d.setAttribute("src","./img/restaurant_interior.jpg"),d.setAttribute("alt","Inside the Rathaus Cafe"),d.classList.add("home-img","shadow"),a.appendChild(d);let i=document.createElement("p");i.textContent="The Rathaus Cafe is known for its resilience – the health department can't keep us down! Come stick it to the man by eating terrible food without washing your hands.",a.appendChild(i),a.appendChild(document.createElement("br"));let s=document.createElement("p");s.textContent="Rathaus is located on historic (and underwater) Vermin Street in the middle of Seattle's Elliot Bay. Good luck finding us if you don't have a submarine.",a.appendChild(s);let l=document.createElement("h2");l.textContent="Hours",l.classList.add("center-h"),e.appendChild(l);let o=document.createElement("div");o.classList.add("hours-container"),e.appendChild(o);const c=[["Mon – Thurs","10 am","–","5pm"],["Fri","8 am","–","5pm"],["Sat","8 am","–","4pm"],["Sun","8 am","–","2pm"]],r=["hours-day","hours-open","hours-dash","hours-close"];for(let e=0;e<c.length;e++)for(let t=0;t<c[e].length;t++){let n=document.createElement("div");n.textContent=c[e][t],n.classList.add(r[t]),o.appendChild(n)}return e}(),i=null,s=null;e.appendChild(d),t.addEventListener("click",(e=>{i&&i.classList.add("hidden"),s&&s.classList.add("hidden"),d.classList.remove("hidden")})),n.addEventListener("click",(t=>{d&&d.classList.add("hidden"),s&&s.classList.add("hidden"),i||(i=function(){let e=document.createElement("div");e.classList.add("main-content");let t=document.createElement("h1");t.classList.add("center-h"),t.textContent="Browse our menu",e.appendChild(t);let n=document.createElement("p");n.classList.add("bottom-spacer"),n.textContent="All menu selections are guaranteed to be made with the cheapest ingredients we can find, and all of our recipes were created by minimum-wage employees with no culinary experience. We love our food so you don't have to.",e.appendChild(n);let a=[["Breakfast","All breakfast items are served with your choice of reheated hashbrowns or scrambled egg substitute."],["Lunch",'All lunch items are served with your choice of potato-like chips or "French fries."'],["Drinks",""]],d=[[["Bowl of Soggy Cereal with Six-Week-Old Milk","$7","./img/breakfast.jpg","This bowl of tasteless bran flakes will make you wish we had pancakes. Served with a side of canned fruit."],["Burnt Toast with Burnt Bacon","$9","./img/breakfast.jpg","Bread so charred that you won't even notice how stale it is. The bacon matches the toast."]],[["Club Sandwich","$13","./img/sandwich.jpg","Rubbery, bland chicken with grainy tomatoes and wilted lettuce. Probably has mayo. Probably doesn't have spiders."],["Tuna Sandwich","$13","./img/sandwich.jpg","Watery, gross tuna with grainy tomatoes and wilted lettuce. Might have pickles if we have any."],["Ham Sandwich","$12","./img/sandwich.jpg","Made with delicious, pre-sliced deli ham that may have been frozen at some point. Also has grainy tomatoes, wilted lettuce, and neon yellow mustard."]],[["Coffee","$5","./img/drink.jpg","It's coffee. Either instant or drip-brewed depending on who's working today. Might be decaf (if we don't like you)."],["Tea","$5","./img/drink.jpg","Lukewarm black tea microwaved almost long enough and stored in an urn that doesn't have weird mold growing in it."],["Soft Drink","$5","./img/drink.jpg","Some kind of generic cola or lemon-lime soda. Usually carbonated, unless we haven't noticed that the CO2 has run out."]]];for(let t=0;t<a.length;t++){let n=document.createElement("h1");n.classList.add("center-h"),n.textContent=a[t][0],e.appendChild(n);let i=document.createElement("p");i.classList.add("menu-section-desc"),i.textContent=a[t][1],e.appendChild(i);let s=document.createElement("div");s.classList.add("menu-container"),e.appendChild(s);for(let e=0;e<d[t].length;e++){let n=document.createElement("div");n.classList.add("menu-card","shadow"),s.appendChild(n);let a=document.createElement("div");a.classList.add("menu-card-title"),n.appendChild(a);let i=document.createElement("h2");i.classList.add("menu-card-h"),i.textContent=d[t][e][0],a.appendChild(i);let l=document.createElement("h1");l.textContent=d[t][e][1],a.appendChild(l);let o=document.createElement("img");o.setAttribute("src",d[t][e][2]),o.setAttribute("alt",d[t][e][0]),o.classList.add("menu-img","shadow"),n.appendChild(o);let c=document.createElement("p");c.textContent=d[t][e][3],n.appendChild(c)}}return e}(),e.appendChild(i)),i.classList.remove("hidden")})),a.addEventListener("click",(t=>{d&&d.classList.add("hidden"),i&&i.classList.add("hidden"),s||(s=function(){let e=document.createElement("div");e.classList.add("main-content");let t=document.createElement("div");e.appendChild(t);let n=document.createElement("h1");n.classList.add("center-h"),n.textContent="Contact us",t.appendChild(n);let a=document.createElement("div");a.classList.add("menu-card","shadow","size-to-map"),t.appendChild(a);let d=document.createElement("iframe");d.setAttribute("src","https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d21522.723807459097!2d-122.37160199978854!3d47.60006890924782!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sus!4v1706256753556!5m2!1sen!2sus"),d.setAttribute("allowfullscreen",""),d.setAttribute("loading","lazy"),d.setAttribute("referrerpolicy","no-referrer-when-downgrade"),d.classList.add("map","shadow"),a.appendChild(d);let i=document.createElement("p");i.textContent="We'd rather you not speak to us, but if you must, here's how:",a.appendChild(i);let s=document.createElement("div");s.classList.add("contact-info-container"),a.appendChild(s);const l=[["Phone"],["(555) 555-5555"],["Email"],["info","@","rathaus","cafe",".nom"],["Visit"],["377 Vermin St."],["Seattle, WA 98185"]];for(let e=0;e<l.length-1;e++){let t=document.createElement("div");if(l[e].length>1){for(let n=0;n<l[e].length;n++){let a=document.createElement("wbr"),d=document.createTextNode(l[e][n]);t.appendChild(d),t.appendChild(a)}t.classList.add("wrap-email")}else t.textContent=l[e];if(e==l.length-2){let n=document.createElement("p");n.textContent=l[e+1],t.appendChild(n)}s.appendChild(t)}return e}(),e.appendChild(s)),s.classList.remove("hidden")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxHQUFLNkIsRUFBUzVCLE9BQVMsRUFBRyxDQUMxQixJQUFJZ0MsRUFBUXpELFNBQVNRLGNBQWMsS0FDbkNpRCxFQUFNN0MsWUFBY3lDLEVBQVM3QixFQUFJLEdBQ2pDRyxFQUFPZCxZQUFZNEMsRUFDdkIsQ0FFQUwsRUFBY3ZDLFlBQVljLEVBQzlCLENBRUEsT0FBT3BCLENBQ1gsQ0g5QnFCbUQsR0FDYjNELEVBQVFjLFlBQVlpQixJQUd4QkEsRUFBV3JCLFVBQVV3QixPQUFPLFNBQVMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnRwYWdlLy4vc3JjL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50cGFnZS8uL3NyYy9ob21lLmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnRwYWdlLy4vc3JjL21lbnUuanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudHBhZ2UvLi9zcmMvY29udGFjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaG9tZUNvbnRlbnQgZnJvbSBcIi4vaG9tZS5qc1wiO1xuaW1wb3J0IG1lbnVDb250ZW50IGZyb20gXCIuL21lbnUuanNcIjtcbmltcG9ydCBjb250YWN0Q29udGVudCBmcm9tIFwiLi9jb250YWN0LmpzXCI7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5jb25zdCBob21lQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLWJ1dHRvblwiKTtcbmNvbnN0IG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUtYnV0dG9uXCIpO1xuY29uc3QgY29udGFjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdC1idXR0b25cIik7XG5cbmxldCBob21lRGl2ID0gaG9tZUNvbnRlbnQoKTtcbmxldCBtZW51RGl2ID0gbnVsbDtcbmxldCBjb250YWN0RGl2ID0gbnVsbDtcblxuY29udGVudC5hcHBlbmRDaGlsZChob21lRGl2KTtcblxuaG9tZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgaWYgKG1lbnVEaXYpIG1lbnVEaXYuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBpZiAoY29udGFjdERpdikgY29udGFjdERpdi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgIGhvbWVEaXYuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbn0pO1xuXG5tZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICBpZiAoaG9tZURpdikgaG9tZURpdi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgIGlmIChjb250YWN0RGl2KSBjb250YWN0RGl2LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cbiAgICBpZiAoIW1lbnVEaXYpIHtcbiAgICAgICAgbWVudURpdiA9IG1lbnVDb250ZW50KCk7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobWVudURpdik7XG4gICAgfVxuXG4gICAgbWVudURpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xufSk7XG5cbmNvbnRhY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgIGlmIChob21lRGl2KSBob21lRGl2LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgaWYgKG1lbnVEaXYpIG1lbnVEaXYuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblxuICAgIGlmICghY29udGFjdERpdikge1xuICAgICAgICBjb250YWN0RGl2ID0gY29udGFjdENvbnRlbnQoKTtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjb250YWN0RGl2KTtcbiAgICB9XG5cbiAgICBjb250YWN0RGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG59KTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICBsZXQgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5Db250ZW50LmNsYXNzTGlzdC5hZGQoXCJtYWluLWNvbnRlbnRcIik7XG5cbiAgICBsZXQgaW50cm9IZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgaW50cm9IZWFkZXIuY2xhc3NMaXN0LmFkZChcImNlbnRlci1oXCIpO1xuICAgIGludHJvSGVhZGVyLnRleHRDb250ZW50ID0gXCJXZWxjb21lIHRvIHRoZSBSYXRoYXVzIENhZmVcIjtcbiAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChpbnRyb0hlYWRlcik7XG5cbiAgICBsZXQgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwibWVudS1jYXJkXCIsIFwic2hhZG93XCIsIFwiYm90dG9tLXNwYWNlclwiKTtcbiAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChjYXJkKTtcblxuICAgIGxldCBpbnRyb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW50cm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImludHJvLWNvbnRhaW5lclwiKTtcbiAgICBjYXJkLmFwcGVuZENoaWxkKGludHJvQ29udGFpbmVyKTtcblxuICAgIGxldCBpbnRyb0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgaW50cm9JbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9pbWcvcmVzdGF1cmFudF9pbnRlcmlvci5qcGdcIik7XG4gICAgaW50cm9JbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiSW5zaWRlIHRoZSBSYXRoYXVzIENhZmVcIik7XG4gICAgaW50cm9JbWcuY2xhc3NMaXN0LmFkZChcImhvbWUtaW1nXCIsIFwic2hhZG93XCIpO1xuICAgIGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKGludHJvSW1nKTtcblxuICAgIGxldCBpbnRyb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBpbnRyb1RleHQudGV4dENvbnRlbnQgPSBcIlRoZSBSYXRoYXVzIENhZmUgaXMga25vd24gZm9yIGl0cyByZXNpbGllbmNlIOKAkyB0aGUgaGVhbHRoIGRlcGFydG1lbnQgY2FuJ3Qga2VlcCB1cyBkb3duISBDb21lIHN0aWNrIGl0IHRvIHRoZSBtYW4gYnkgZWF0aW5nIHRlcnJpYmxlIGZvb2Qgd2l0aG91dCB3YXNoaW5nIHlvdXIgaGFuZHMuXCJcbiAgICBpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbnRyb1RleHQpO1xuICAgIFxuICAgIGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG5cbiAgICBsZXQgaW50cm9UZXh0MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGludHJvVGV4dDIudGV4dENvbnRlbnQgPSBcIlJhdGhhdXMgaXMgbG9jYXRlZCBvbiBoaXN0b3JpYyAoYW5kIHVuZGVyd2F0ZXIpIFZlcm1pbiBTdHJlZXQgaW4gdGhlIG1pZGRsZSBvZiBTZWF0dGxlJ3MgRWxsaW90IEJheS4gR29vZCBsdWNrIGZpbmRpbmcgdXMgaWYgeW91IGRvbid0IGhhdmUgYSBzdWJtYXJpbmUuXCI7XG4gICAgaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoaW50cm9UZXh0Mik7XG5cbiAgICBsZXQgaG91cnNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaG91cnNIZWFkZXIudGV4dENvbnRlbnQgPSBcIkhvdXJzXCI7XG4gICAgaG91cnNIZWFkZXIuY2xhc3NMaXN0LmFkZChcImNlbnRlci1oXCIpO1xuICAgIG1haW5Db250ZW50LmFwcGVuZENoaWxkKGhvdXJzSGVhZGVyKTtcblxuICAgIGxldCBob3Vyc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaG91cnNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhvdXJzLWNvbnRhaW5lclwiKTtcbiAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChob3Vyc0NvbnRhaW5lcik7XG5cbiAgICBjb25zdCBob3Vyc1RleHQgPSBbXG4gICAgICAgIFtcIk1vbiDigJMgVGh1cnNcIiwgXCIxMCBhbVwiLCBcIuKAk1wiLCBcIjVwbVwiXSxcbiAgICAgICAgW1wiRnJpXCIsIFwiOCBhbVwiLCBcIuKAk1wiLCBcIjVwbVwiXSxcbiAgICAgICAgW1wiU2F0XCIsIFwiOCBhbVwiLCBcIuKAk1wiLCBcIjRwbVwiXSxcbiAgICAgICAgW1wiU3VuXCIsIFwiOCBhbVwiLCBcIuKAk1wiLCBcIjJwbVwiXSxcbiAgICBdXG4gICAgY29uc3QgaG91cnNDbGFzcyA9IFtcbiAgICAgICAgXCJob3Vycy1kYXlcIixcbiAgICAgICAgXCJob3Vycy1vcGVuXCIsXG4gICAgICAgIFwiaG91cnMtZGFzaFwiLFxuICAgICAgICBcImhvdXJzLWNsb3NlXCJcbiAgICBdXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvdXJzVGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhvdXJzVGV4dFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBuZXdEaXYudGV4dENvbnRlbnQgPSBob3Vyc1RleHRbaV1bal07XG4gICAgICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChob3Vyc0NsYXNzW2pdKTtcbiAgICAgICAgICAgIGhvdXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0Rpdik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWFpbkNvbnRlbnQ7XG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIGxldCBtYWluQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWFpbkNvbnRlbnQuY2xhc3NMaXN0LmFkZChcIm1haW4tY29udGVudFwiKTtcbiAgICAgICAgXG4gICAgbGV0IG1lbnVIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgbWVudUhlYWRlci5jbGFzc0xpc3QuYWRkKFwiY2VudGVyLWhcIik7XG4gICAgbWVudUhlYWRlci50ZXh0Q29udGVudCA9IFwiQnJvd3NlIG91ciBtZW51XCI7XG4gICAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQobWVudUhlYWRlcik7XG5cbiAgICBsZXQgbWVudVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBtZW51VGV4dC5jbGFzc0xpc3QuYWRkKFwiYm90dG9tLXNwYWNlclwiKTtcbiAgICBtZW51VGV4dC50ZXh0Q29udGVudCA9IFwiQWxsIG1lbnUgc2VsZWN0aW9ucyBhcmUgZ3VhcmFudGVlZCB0byBiZSBtYWRlIHdpdGggdGhlIGNoZWFwZXN0IGluZ3JlZGllbnRzIHdlIGNhbiBmaW5kLCBhbmQgYWxsIG9mIG91ciByZWNpcGVzIHdlcmUgY3JlYXRlZCBieSBtaW5pbXVtLXdhZ2UgZW1wbG95ZWVzIHdpdGggbm8gY3VsaW5hcnkgZXhwZXJpZW5jZS4gV2UgbG92ZSBvdXIgZm9vZCBzbyB5b3UgZG9uJ3QgaGF2ZSB0by5cIjtcbiAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChtZW51VGV4dCk7XG5cbiAgICBsZXQgbWVudVNlY3Rpb25zID0gW1xuICAgICAgICBbXG4gICAgICAgICAgICBcIkJyZWFrZmFzdFwiLFxuICAgICAgICAgICAgXCJBbGwgYnJlYWtmYXN0IGl0ZW1zIGFyZSBzZXJ2ZWQgd2l0aCB5b3VyIGNob2ljZSBvZiByZWhlYXRlZCBoYXNoYnJvd25zIG9yIHNjcmFtYmxlZCBlZ2cgc3Vic3RpdHV0ZS5cIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgICBcIkx1bmNoXCIsXG4gICAgICAgICAgICBcIkFsbCBsdW5jaCBpdGVtcyBhcmUgc2VydmVkIHdpdGggeW91ciBjaG9pY2Ugb2YgcG90YXRvLWxpa2UgY2hpcHMgb3IgXFxcIkZyZW5jaCBmcmllcy5cXFwiXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgICAgXCJEcmlua3NcIixcbiAgICAgICAgICAgIFwiXCJcbiAgICAgICAgXVxuICAgIF07XG4gICAgbGV0IG1lbnVJdGVtcyA9IFtcbiAgICAgICAgLy8gQnJlYWtmYXN0XG4gICAgICAgIFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBcIkJvd2wgb2YgU29nZ3kgQ2VyZWFsIHdpdGggU2l4LVdlZWstT2xkIE1pbGtcIixcbiAgICAgICAgICAgICAgICBcIiQ3XCIsXG4gICAgICAgICAgICAgICAgXCIuL2ltZy9icmVha2Zhc3QuanBnXCIsXG4gICAgICAgICAgICAgICAgXCJUaGlzIGJvd2wgb2YgdGFzdGVsZXNzIGJyYW4gZmxha2VzIHdpbGwgbWFrZSB5b3Ugd2lzaCB3ZSBoYWQgcGFuY2FrZXMuIFNlcnZlZCB3aXRoIGEgc2lkZSBvZiBjYW5uZWQgZnJ1aXQuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgXCJCdXJudCBUb2FzdCB3aXRoIEJ1cm50IEJhY29uXCIsXG4gICAgICAgICAgICAgICAgXCIkOVwiLFxuICAgICAgICAgICAgICAgIFwiLi9pbWcvYnJlYWtmYXN0LmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiQnJlYWQgc28gY2hhcnJlZCB0aGF0IHlvdSB3b24ndCBldmVuIG5vdGljZSBob3cgc3RhbGUgaXQgaXMuIFRoZSBiYWNvbiBtYXRjaGVzIHRoZSB0b2FzdC5cIlxuICAgICAgICAgICAgXVxuICAgICAgICBdLFxuICAgICAgICAvLyBMdW5jaFxuICAgICAgICBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgXCJDbHViIFNhbmR3aWNoXCIsXG4gICAgICAgICAgICAgICAgXCIkMTNcIixcbiAgICAgICAgICAgICAgICBcIi4vaW1nL3NhbmR3aWNoLmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiUnViYmVyeSwgYmxhbmQgY2hpY2tlbiB3aXRoIGdyYWlueSB0b21hdG9lcyBhbmQgd2lsdGVkIGxldHR1Y2UuIFByb2JhYmx5IGhhcyBtYXlvLiBQcm9iYWJseSBkb2Vzbid0IGhhdmUgc3BpZGVycy5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBcIlR1bmEgU2FuZHdpY2hcIixcbiAgICAgICAgICAgICAgICBcIiQxM1wiLFxuICAgICAgICAgICAgICAgIFwiLi9pbWcvc2FuZHdpY2guanBnXCIsXG4gICAgICAgICAgICAgICAgXCJXYXRlcnksIGdyb3NzIHR1bmEgd2l0aCBncmFpbnkgdG9tYXRvZXMgYW5kIHdpbHRlZCBsZXR0dWNlLiBNaWdodCBoYXZlIHBpY2tsZXMgaWYgd2UgaGF2ZSBhbnkuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgXCJIYW0gU2FuZHdpY2hcIixcbiAgICAgICAgICAgICAgICBcIiQxMlwiLFxuICAgICAgICAgICAgICAgIFwiLi9pbWcvc2FuZHdpY2guanBnXCIsXG4gICAgICAgICAgICAgICAgXCJNYWRlIHdpdGggZGVsaWNpb3VzLCBwcmUtc2xpY2VkIGRlbGkgaGFtIHRoYXQgbWF5IGhhdmUgYmVlbiBmcm96ZW4gYXQgc29tZSBwb2ludC4gQWxzbyBoYXMgZ3JhaW55IHRvbWF0b2VzLCB3aWx0ZWQgbGV0dHVjZSwgYW5kIG5lb24geWVsbG93IG11c3RhcmQuXCJcbiAgICAgICAgICAgIF1cbiAgICAgICAgXSxcbiAgICAgICAgLy8gRHJpbmtzXG4gICAgICAgIFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBcIkNvZmZlZVwiLFxuICAgICAgICAgICAgICAgIFwiJDVcIixcbiAgICAgICAgICAgICAgICBcIi4vaW1nL2RyaW5rLmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiSXQncyBjb2ZmZWUuIEVpdGhlciBpbnN0YW50IG9yIGRyaXAtYnJld2VkIGRlcGVuZGluZyBvbiB3aG8ncyB3b3JraW5nIHRvZGF5LiBNaWdodCBiZSBkZWNhZiAoaWYgd2UgZG9uJ3QgbGlrZSB5b3UpLlwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFwiVGVhXCIsXG4gICAgICAgICAgICAgICAgXCIkNVwiLFxuICAgICAgICAgICAgICAgIFwiLi9pbWcvZHJpbmsuanBnXCIsXG4gICAgICAgICAgICAgICAgXCJMdWtld2FybSBibGFjayB0ZWEgbWljcm93YXZlZCBhbG1vc3QgbG9uZyBlbm91Z2ggYW5kIHN0b3JlZCBpbiBhbiB1cm4gdGhhdCBkb2Vzbid0IGhhdmUgd2VpcmQgbW9sZCBncm93aW5nIGluIGl0LlwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFwiU29mdCBEcmlua1wiLFxuICAgICAgICAgICAgICAgIFwiJDVcIixcbiAgICAgICAgICAgICAgICBcIi4vaW1nL2RyaW5rLmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiU29tZSBraW5kIG9mIGdlbmVyaWMgY29sYSBvciBsZW1vbi1saW1lIHNvZGEuIFVzdWFsbHkgY2FyYm9uYXRlZCwgdW5sZXNzIHdlIGhhdmVuJ3Qgbm90aWNlZCB0aGF0IHRoZSBDTzIgaGFzIHJ1biBvdXQuXCJcbiAgICAgICAgICAgIF1cbiAgICAgICAgXVxuICAgIF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVTZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiY2VudGVyLWhcIik7XG4gICAgICAgIHNlY3Rpb24udGV4dENvbnRlbnQgPSBtZW51U2VjdGlvbnNbaV1bMF07XG4gICAgICAgIG1haW5Db250ZW50LmFwcGVuZENoaWxkKHNlY3Rpb24pO1xuXG4gICAgICAgIGxldCBzZWNEZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIHNlY0Rlc2MuY2xhc3NMaXN0LmFkZChcIm1lbnUtc2VjdGlvbi1kZXNjXCIpO1xuICAgICAgICBzZWNEZXNjLnRleHRDb250ZW50ID0gbWVudVNlY3Rpb25zW2ldWzFdO1xuICAgICAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChzZWNEZXNjKTtcblxuICAgICAgICBsZXQgbWVudUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1lbnVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1lbnUtY29udGFpbmVyXCIpO1xuICAgICAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChtZW51Q29udGFpbmVyKTtcbiAgICBcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtZW51SXRlbXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBtZW51Q2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBtZW51Q2FyZC5jbGFzc0xpc3QuYWRkKFwibWVudS1jYXJkXCIsIFwic2hhZG93XCIpO1xuICAgICAgICAgICAgbWVudUNvbnRhaW5lci5hcHBlbmRDaGlsZChtZW51Q2FyZCk7XG5cbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwibWVudS1jYXJkLXRpdGxlXCIpO1xuICAgICAgICAgICAgbWVudUNhcmQuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJtZW51LWNhcmQtaFwiKTtcbiAgICAgICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IG1lbnVJdGVtc1tpXVtqXVswXTtcbiAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKGhlYWRlcik7XG5cbiAgICAgICAgICAgIGxldCBwcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICAgICAgICAgIHByaWNlLnRleHRDb250ZW50ID0gbWVudUl0ZW1zW2ldW2pdWzFdO1xuICAgICAgICAgICAgdGl0bGUuYXBwZW5kQ2hpbGQocHJpY2UpO1xuXG4gICAgICAgICAgICBsZXQgcGljID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIHBpYy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgbWVudUl0ZW1zW2ldW2pdWzJdKTtcbiAgICAgICAgICAgIHBpYy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgbWVudUl0ZW1zW2ldW2pdWzBdKTtcbiAgICAgICAgICAgIHBpYy5jbGFzc0xpc3QuYWRkKFwibWVudS1pbWdcIiwgXCJzaGFkb3dcIik7XG4gICAgICAgICAgICBtZW51Q2FyZC5hcHBlbmRDaGlsZChwaWMpO1xuXG4gICAgICAgICAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IG1lbnVJdGVtc1tpXVtqXVszXTtcbiAgICAgICAgICAgIG1lbnVDYXJkLmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1haW5Db250ZW50O1xufTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICBsZXQgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5Db250ZW50LmNsYXNzTGlzdC5hZGQoXCJtYWluLWNvbnRlbnRcIik7XG5cbiAgICBsZXQgY29udGFjdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGFjdENvbnRhaW5lcik7XG5cbiAgICBsZXQgY29udGFjdEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBjb250YWN0SGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJjZW50ZXItaFwiKTtcbiAgICBjb250YWN0SGVhZGVyLnRleHRDb250ZW50ID0gXCJDb250YWN0IHVzXCI7XG4gICAgY29udGFjdENvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWN0SGVhZGVyKTtcblxuICAgIGxldCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjYXJkLmNsYXNzTGlzdC5hZGQoXCJtZW51LWNhcmRcIiwgXCJzaGFkb3dcIiwgXCJzaXplLXRvLW1hcFwiKTtcbiAgICBjb250YWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgIFxuICAgIGxldCBjb250YWN0TWFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICBjb250YWN0TWFwLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9lbWJlZD9wYj0hMW0xNCExbTEyITFtMyExZDIxNTIyLjcyMzgwNzQ1OTA5NyEyZC0xMjIuMzcxNjAxOTk5Nzg4NTQhM2Q0Ny42MDAwNjg5MDkyNDc4MiEybTMhMWYwITJmMCEzZjAhM20yITFpMTAyNCEyaTc2OCE0ZjEzLjEhNWUwITNtMiExc2VuITJzdXMhNHYxNzA2MjU2NzUzNTU2ITVtMiExc2VuITJzdXNcIik7XG4gICAgY29udGFjdE1hcC5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIiwgXCJcIik7XG4gICAgY29udGFjdE1hcC5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcbiAgICBjb250YWN0TWFwLnNldEF0dHJpYnV0ZShcInJlZmVycmVycG9saWN5XCIsIFwibm8tcmVmZXJyZXItd2hlbi1kb3duZ3JhZGVcIik7XG4gICAgY29udGFjdE1hcC5jbGFzc0xpc3QuYWRkKFwibWFwXCIsIFwic2hhZG93XCIpO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQoY29udGFjdE1hcCk7XG5cbiAgICBsZXQgY29udGFjdFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBjb250YWN0VGV4dC50ZXh0Q29udGVudCA9IFwiV2UnZCByYXRoZXIgeW91IG5vdCBzcGVhayB0byB1cywgYnV0IGlmIHlvdSBtdXN0LCBoZXJlJ3MgaG93OlwiO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQoY29udGFjdFRleHQpO1xuXG4gICAgbGV0IGluZm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGluZm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImNvbnRhY3QtaW5mby1jb250YWluZXJcIik7XG4gICAgY2FyZC5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKTtcblxuICAgIGNvbnN0IGluZm9UZXh0ID0gW1xuICAgICAgICBbXCJQaG9uZVwiXSxcbiAgICAgICAgW1wiKDU1NSkgNTU1LTU1NTVcIl0sXG4gICAgICAgIFtcIkVtYWlsXCJdLFxuICAgICAgICBbXCJpbmZvXCIsIFwiQFwiLCBcInJhdGhhdXNcIiwgXCJjYWZlXCIsIFwiLm5vbVwiXSxcbiAgICAgICAgW1wiVmlzaXRcIl0sXG4gICAgICAgIFtcIjM3NyBWZXJtaW4gU3QuXCJdLFxuICAgICAgICBbXCJTZWF0dGxlLCBXQSA5ODE4NVwiXVxuICAgIF1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5mb1RleHQubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGxldCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgIGlmIChpbmZvVGV4dFtpXS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGluZm9UZXh0W2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHdiciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ3YnJcIik7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpbmZvVGV4dFtpXVtqXSk7XG4gICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZCh3YnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcIndyYXAtZW1haWxcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdEaXYudGV4dENvbnRlbnQgPSBpbmZvVGV4dFtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID09IGluZm9UZXh0Lmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgIGxldCBuZXdCciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgbmV3QnIudGV4dENvbnRlbnQgPSBpbmZvVGV4dFtpICsgMV07XG4gICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3QnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgIH1cblxuICAgIHJldHVybiBtYWluQ29udGVudDtcbn07Il0sIm5hbWVzIjpbImNvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaG9tZUJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51QnV0dG9uIiwiY29udGFjdEJ1dHRvbiIsImhvbWVEaXYiLCJtYWluQ29udGVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnRyb0hlYWRlciIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjYXJkIiwiaW50cm9Db250YWluZXIiLCJpbnRyb0ltZyIsInNldEF0dHJpYnV0ZSIsImludHJvVGV4dCIsImludHJvVGV4dDIiLCJob3Vyc0hlYWRlciIsImhvdXJzQ29udGFpbmVyIiwiaG91cnNUZXh0IiwiaG91cnNDbGFzcyIsImkiLCJsZW5ndGgiLCJqIiwibmV3RGl2IiwiaG9tZSIsIm1lbnVEaXYiLCJjb250YWN0RGl2IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJyZW1vdmUiLCJtZW51SGVhZGVyIiwibWVudVRleHQiLCJtZW51U2VjdGlvbnMiLCJtZW51SXRlbXMiLCJzZWN0aW9uIiwic2VjRGVzYyIsIm1lbnVDb250YWluZXIiLCJtZW51Q2FyZCIsInRpdGxlIiwiaGVhZGVyIiwicHJpY2UiLCJwaWMiLCJ0ZXh0IiwibWVudSIsImNvbnRhY3RDb250YWluZXIiLCJjb250YWN0SGVhZGVyIiwiY29udGFjdE1hcCIsImNvbnRhY3RUZXh0IiwiaW5mb0NvbnRhaW5lciIsImluZm9UZXh0Iiwid2JyIiwibm9kZSIsImNyZWF0ZVRleHROb2RlIiwibmV3QnIiLCJjb250YWN0Il0sInNvdXJjZVJvb3QiOiIifQ==